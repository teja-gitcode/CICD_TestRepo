# MediaMTX Configuration for Jetson CV Pipeline
# Auto-generated by generate_mediamtx_config.sh

# Logging
logLevel: info
logDestinations: [stdout]

# Performance tuning for Jetson
readTimeout: 10s
writeTimeout: 10s
writeQueueSize: 512
udpMaxPayloadSize: 1452

# API and Metrics
api: yes
apiAddress: :9997
apiEncryption: no

# RTSP Server Configuration
rtsp: yes
rtspTransports: [tcp]
rtspEncryption: "no"
rtspAddress: :8554

# RTMP Server (optional)
rtmp: yes
rtmpAddress: :1935
rtmpEncryption: "no"

# HLS Server (optional - for web viewing)
hls: yes
hlsAddress: :8888
hlsEncryption: no
hlsAlwaysRemux: no
hlsVariant: lowLatency
hlsSegmentCount: 7
hlsSegmentDuration: 1s
hlsPartDuration: 200ms

# WebRTC Server (optional - for low latency web viewing)
webrtc: yes
webrtcAddress: :8889
webrtcEncryption: no
# Local IP/hostname for WebRTC ICE candidates
webrtcAdditionalHosts: [10.45.61.29]
# UDP port for WebRTC media
webrtcLocalUDPAddress: :8189

# Path defaults
pathDefaults:
  source: publisher
  sourceOnDemand: no
  record: no

# Camera Paths Configuration
paths:
  camera1:
    source: rtsp://10.112.241.175:7447/30nwMw8NSilMOjNU # Temporary camera to test apriltags 
    #source: rtsp://10.45.41.253:7447/J4ZIcw3NhpITdOkM
    rtspTransport: tcp
    sourceOnDemand: no

  camera2:
    source: rtsp://10.45.41.253:7447/57C05K4HuK24kC3t
    rtspTransport: tcp
    sourceOnDemand: yes

  camera3:
    source: rtsp://10.45.41.253:7447/VwhcoN2Bule4VqLe
    rtspTransport: tcp
    sourceOnDemand: yes
  
